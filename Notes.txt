hows the diff algorithm works ??

 why do i need state varibale??
 => 